## 爬取目标
豆瓣电影Top250中电影的长评论。

## 爬取代码说明
- `getTop250urls()`:
    获取Top250电影的url，为后续爬取具体电影评论提供目标url。主要使用的`request`库，同时利用`fake_useragent`库随机更换请求头中User-Agent内容。同时使用`time.sleep()`来实现请求间隔。
- `getRomments():`:
  获取Top250电影中每部电影主页面下方的推荐电影。但由于数据量过大，爬取时间过长，在实际运行时将`getRomments():`注释。仅仅爬取`getTop250urls()`获取到的250部电影的长评论。
- `def getrByMovieurl(movieurl:str)`:
  通过`getTop250urls()`获取到的movie_url来构造评论页的url同时进行长评论的爬取。由于长评论需要点击指定按钮才能完整显示。在爬取过程中使用了`selenium`库模拟在浏览器的点击操作同时进行爬取。在函数第一行的`numbers = list(range(0, 18, 1))`中设定了每部电影爬取18个长评论页(平均每个页面有15个长评论)。为了避免反爬机制，同时也保证爬取数据的完整性，采取了一个while循环进行多次爬取尝试。采取随机间隔，在电脑端也开启网络代理软件随机切换网络代理IP来避免反爬。
- `def jobsattr(begin, end)`和`def create_threads(num_threads)`:
  多线程爬取的任务分配和线程创建函数。在代码中，创建了10个线程，每个线程负责25个电影的长评论爬取。

## 爬取结果
- 时间:大概2h
- 实际爬取影片数:233
- 长评论数:65256个
- 文本文件大小:200MB
- `电影评论`文件夹中是按电影的txt
- `评论合并`是对电影评论文件夹中的txt进行合并